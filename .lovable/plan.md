

# Курс по Вайбкодингу: карточка + полный UX прохождения

## Структура курса из CSV

Курс содержит **9 модулей** (0-8) на **8 недель**:

```text
Модуль 0: ИИ: от хайпа к реальным продуктам (вводный вебинар)
Модуль 1: Что такое вайб-кодинг (смена мышления)
Модуль 2: Как управлять AI (тренажер и дебаг)
Модуль 3: Выбор идеи + PRD для MVP (2 урока)
Модуль 4: Работа с кодом + дизайн системы (3 урока)
Модуль 5: Cybos + Agentic AI (3 урока)
Модуль 6: От прототипа к продакшену (2 урока)
Модуль 7: Упаковка и go-to-market (5 уроков) -- 3 варианта трека
Модуль 8: Первый цикл обратной связи
```

## Что делаем

### 1. Вставка данных курса в БД

Через SQL insert tool:
- Запись в `courses`: "Вайбкодинг: от идеи до продукта", slug `vibecoding`, type `theory_practice`, `is_published = true`
- 9 записей в `course_modules` (Модули 0-8)
- ~20 записей в `course_lessons` с `content_json`, содержащим структурированный контент (теория, практикум, ДЗ)

### 2. Страница курса `/course/:courseSlug` -- CoursePage.tsx (новый файл)

Основной экран программы курса:

```text
+----------------------------------------------------+
| [gradient header]                                   |
| Вайбкодинг: от идеи до продукта                    |
| Прогресс: ████████░░ 60%     8 недель | 20 уроков  |
+----------------------------------------------------+
|                                                     |
| ● Модуль 0. ИИ: от хайпа к реальным продуктам      |
|   ├ ✅ Вебинар-лекция (theory)                     |
|   └ ○ Домашнее задание (practice)                  |
|                                                     |
| ● Модуль 1. Что такое вайб-кодинг                  |
|   ├ ▶ Практикум: Mindset shift (текущий)           |
|   └ ○ Домашка: Слепой тест-драйв                  |
|                                                     |
| ○ Модуль 2. Как управлять AI                       |
|   ├ ○ Лекция с практикумом                         |
|   └ ○ Песочница                                     |
| ...                                                 |
+----------------------------------------------------+
```

Компоненты:
- Gradient-хедер с названием, описанием, прогрессом
- Прогресс-бар сверху (сегментированный по модулям)
- Аккордеон модулей (раскрыт текущий)
- Список уроков внутри: иконка статуса (завершен / текущий / не начат), название, тип (бейдж)
- Клик по уроку ведет на `/course/:slug/lesson/:lessonId`

### 3. Просмотр урока `/course/:slug/lesson/:lessonId` -- LessonView.tsx (новый файл)

Рендерер контента из `content_json`:

```text
+----------------------------------------------------+
| < Назад к курсу          Урок 3 из 20    Далее >   |
+----------------------------------------------------+
| [progress bar: сегменты уроков]                     |
+----------------------------------------------------+
|                                                     |
| Модуль 1. Что такое вайб-кодинг                    |
| Практикум: Mindset shift                           |
|                                                     |
| [Текстовый блок: описание]                          |
| [Блок "Содержание урока": список тем]              |
| [Блок "Домашнее задание": задачи]                  |
| [Блок "Инструменты": список]                       |
|                                                     |
+----------------------------------------------------+
| [Отметить как пройденный]    [Следующий урок ->]    |
+----------------------------------------------------+
```

На десктопе для уроков с практикой -- двухколоночный layout:
- Левая: теория/описание
- Правая: задание/инструменты

### 4. Хуки для данных

- `useCourseContent(courseSlug)` -- загружает модули + уроки курса с join
- `useLessonProgress(userId, lessonId)` -- статус/прогресс урока
- `useMarkLessonComplete()` -- мутация для отметки урока пройденным

### 5. Обновление роутов (App.tsx)

Добавить:
- `/course/:courseSlug` -> `CoursePage`
- `/course/:courseSlug/lesson/:lessonId` -> `LessonView`

## Техническая реализация

### content_json формат для уроков

```text
{
  "blocks": [
    {"type": "heading", "content": "Mindset shift -- 30 минут"},
    {"type": "text", "content": "Разбираем метафору айсберга..."},
    {"type": "list", "items": ["Пункт 1", "Пункт 2"]},
    {"type": "callout", "variant": "info", "content": "Важно..."}
  ],
  "homework": {
    "title": "Самостоятельная работа (1-2 часа)",
    "tasks": ["Заполнить анкету...", "Слепой тест-драйв..."]
  },
  "tools": ["Lovable", "Claude", "ChatGPT"],
  "duration": "1.5-2 часа"
}
```

### Файлы

**Новые:**
- `src/pages/CoursePage.tsx` -- страница программы курса
- `src/pages/LessonView.tsx` -- просмотр урока
- `src/hooks/useCourseContent.ts` -- загрузка модулей/уроков
- `src/hooks/useLessonProgress.ts` -- прогресс по урокам
- `src/components/course/ModuleAccordion.tsx` -- аккордеон модулей
- `src/components/course/LessonCard.tsx` -- карточка урока в списке
- `src/components/lesson/TheoryBlock.tsx` -- рендер текстового контента
- `src/components/lesson/LessonNavBar.tsx` -- навигация между уроками

**Модифицируемые:**
- `src/App.tsx` -- добавление роутов

**Данные (SQL insert):**
- 1 курс в `courses`
- 9 модулей в `course_modules`
- ~20 уроков в `course_lessons` с content_json

### Порядок реализации

1. Вставить данные курса в БД (SQL inserts)
2. Создать хуки `useCourseContent` и `useLessonProgress`
3. Создать `CoursePage` с аккордеоном модулей
4. Создать `LessonView` с рендером контента
5. Обновить роуты в `App.tsx`

